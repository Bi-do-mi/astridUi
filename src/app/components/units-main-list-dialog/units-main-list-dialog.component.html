<div fxLayout="column">
  <div>
    <h5>Список моей техники</h5>
  </div>
  <mat-spinner class="mat-accent" [diameter]="40" *ngIf="!dataSource"></mat-spinner>
  <table class="table-main-list" mat-table matSort [dataSource]="dataSource">
    <ng-container matColumnDef="model">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Модель</th>
      <td mat-cell *matCellDef="let unit" fxLayout="row" fxLayoutAlign="space-between center">
        <!--<div id="img-div" *ngIf="!unit.images[0]" fxFlex="20%">-->
        <!--<img class="img-size-main-list" src="assets/pics/unit_pic_spacer-600x400.png">-->
        <!--</div>-->
        <ngx-gallery id="gallery" class="img-size-main-list" [options]="galleryOptions"
                     *ngIf="galleryImagesMap.get(unit.id).length > 0"
                     [images]="galleryImagesMap.get(unit.id)"
        ></ngx-gallery>

        <div fxLayout="row" fxFlex fxLayoutAlign="start none">{{unit.model}}</div>

        <button type="button" matTooltip="местоположение на карте" tabindex="-1"
                matTooltipPosition="above" aria-label="Toggle edit unit location"
                mat-icon-button (click)="flyToUnit(unit)">
          <mat-icon aria-label="Edit toggle icon">gps_fixed</mat-icon>
        </button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef='let unitRowData; columns: columnsToDisplay'></tr>
  </table>
  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  <div fxFlexAlign="end">
    <button mat-raised-button="" (click)="onCancel()" tabindex="-1">Закрыть</button>
  </div>
</div>
